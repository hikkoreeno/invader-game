# Space Invaders - TypeScript Edition

TypeScript + Vite + HTML5 Canvasで作成したクラシックなスペースインベーダーゲームです。

## 🚀 クイックスタート

### 前提条件
- Node.js (v16以上推奨)
- npm

### インストールと実行

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

ブラウザで `http://localhost:5173` にアクセスしてゲームを開始してください。

## 🎮 操作方法

| キー | 動作 |
|------|------|
| `←` / `A` | 左移動 |
| `→` / `D` | 右移動 |
| `Space` | 射撃 |
| `Enter` | ゲーム開始 / リスタート |

## 🎯 ゲーム仕様

### 基本ルール
- **目標**: すべてのインベーダーを撃破する
- **ライフ**: 3回まで被弾可能
- **スコア**: 敵1体撃破につき10点
- **ゲームオーバー条件**:
  - ライフが0になる
  - 敵がプレイヤーエリアに到達する

### ゲーム要素
- **プレイヤー**: 画面下部で左右移動、射撃可能
- **弾丸**: 最大5発まで同時発射可能、200ms射撃クールダウン
- **敵**: 10列×5行の隊列で行進、端で折り返し・段下げ
- **音響**: 射撃、命中、被弾時のビープ音

## 🏗️ 技術構成

### フレームワーク・ライブラリ
- **TypeScript**: 型安全なJavaScript
- **Vite**: 高速ビルドツール
- **HTML5 Canvas**: 2Dグラフィックス描画

### プロジェクト構造
```
src/
├── main.ts          # エントリーポイント、ゲームループ
├── game.ts          # ゲームエンティティ（Player, Enemy, Bullet等）
├── input.ts         # キーボード入力管理
├── audio.ts         # 音響システム（AudioContext）
├── utils.ts         # ユーティリティ関数（衝突判定等）
└── style.css        # スタイリング
```

### 主要クラス
- `SpaceInvadersGame`: メインゲームクラス、状態管理
- `Player`: プレイヤーキャラクター
- `InvaderGrid`: 敵の隊列管理
- `Bullet`: 弾丸オブジェクト
- `InputManager`: 入力処理
- `AudioManager`: 音響効果

## 🔧 開発情報

### ビルドコマンド
```bash
# 開発サーバー起動
npm run dev

# プロダクションビルド
npm run build

# ビルド結果のプレビュー
npm run preview
```

### パフォーマンス最適化
- **60FPS維持**: requestAnimationFrameによる滑らかなアニメーション
- **効率的な配列操作**: in-placeフィルタリングでメモリ使用量を最適化
- **AABB衝突判定**: 軽量な矩形衝突検出

## 🎨 カスタマイズ

### ゲーム設定の変更
`src/game.ts`の`GAME_CONFIG`オブジェクトで各種パラメータを調整できます：

```typescript
export const GAME_CONFIG = {
  CANVAS_WIDTH: 800,        // 画面幅
  CANVAS_HEIGHT: 600,       // 画面高さ
  PLAYER_SPEED: 300,        // プレイヤー移動速度
  BULLET_SPEED: 400,        // 弾丸速度
  ENEMY_MOVE_SPEED: 50,     // 敵移動速度
  // ... その他設定
};
```

### スタイルのカスタマイズ
`src/style.css`でレトロなグリーンスクリーン風のデザインを変更できます。

## 🚧 今後の拡張アイデア

### ゲームプレイ機能
- [ ] **難易度調整**: ウェーブ進行に応じた敵速度・射撃頻度の増加
- [ ] **UFOボーナス**: 高得点UFOの追加
- [ ] **パワーアップ**: 連射、貫通弾、シールド等
- [ ] **複数敵タイプ**: 異なる行動パターンの敵

### UI/UX改善
- [ ] **ハイスコア保存**: localStorage使用
- [ ] **設定画面**: 音量、操作キー設定
- [ ] **アニメーション強化**: パーティクル効果、画面シェイク
- [ ] **レスポンシブ対応**: モバイル・タブレット対応

### 技術的改善
- [ ] **ゲーム状態の永続化**: セーブ・ロード機能
- [ ] **WebGL移行**: より高度な視覚効果
- [ ] **WebAudio API拡張**: BGM、効果音の充実
- [ ] **マルチプレイヤー**: WebSocket使用

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 コントリビューション

バグ報告、機能提案、プルリクエストを歓迎します！

---

**楽しいゲームプレイを！** 🎮✨
